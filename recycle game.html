<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>å›æ”¶è‹±æ–‡å°éŠæˆ² â™»ï¸</title>
<style>
body {font-family: Arial, sans-serif; max-width:900px; margin:20px auto; padding:10px; background:#f7fff7;}
h1{ text-align:center;}
.container{display:grid; grid-template-columns: 1fr; gap:18px; }
.card, .game, .quiz{background:#fff; padding:12px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1);}
#cardBig{font-size:48px; text-align:center;}
.btn{padding:8px 12px; margin:6px; border-radius:8px; cursor:pointer; border: none; background:#4CAF50; color:white;}
.bins{display:flex; gap:10px; justify-content:space-around; margin-top:10px;}
.bin{flex:1; padding:10px; min-height:120px; border:2px dashed #ccc; border-radius:10px; text-align:center;}
.item{display:inline-block; padding:8px 10px; margin:6px; background:#fff;border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,0.1); cursor:grab;}
.correct{border-color:green;}
.wrong{border-color:red;}
.score{font-weight:bold;}
.choices{display:flex; gap:8px; flex-wrap:wrap;}
.choice{padding:8px 10px; border-radius:8px; border:1px solid #ddd; cursor:pointer;}
</style>
</head>
<body>
<h1>å›æ”¶è‹±æ–‡å°éŠæˆ² â™»ï¸</h1>
<div class="container">
<div class="card">
<h2>å–®å­—å¡ï¼ˆFlashcardï¼‰</h2>
<div id="cardBig">ğŸ“„</div>
<p id="wordEn" style="text-align:center;font-size:24px;">paper</p>
<p id="wordCh" style="text-align:center;color:#555;">ç´™</p>
<div style="text-align:center;">
<button class="btn" id="prev">ä¸Šä¸€å¼µ</button>
<button class="btn" id="speak">ç™¼éŸ³</button>
<button class="btn" id="next">ä¸‹ä¸€å¼µ</button>
</div>
</div>

<div class="game">
<h2>åˆ†é¡éŠæˆ²ï¼ˆæŠŠç‰©å“æ‹–åˆ°æ­£ç¢ºçš„åƒåœ¾æ¡¶ï¼‰</h2>
<p>æŠŠä¸‹é¢çš„æ±è¥¿æ‹–åˆ°å°çš„æ¡¶å­è£¡ï¼ˆRecycle å›æ”¶ / Compost å¯å †è‚¥ / Trash ä¸€èˆ¬åƒåœ¾ï¼‰</p>
<div id="itemsArea"></div>
<div class="bins">
<div class="bin" data-bin="recycle">â™»ï¸ Recycle</div>
<div class="bin" data-bin="compost">ğŸ‚ Compost</div>
<div class="bin" data-bin="trash">ğŸ—‘ï¸ Trash</div>
</div>
<p>å¾—åˆ†: <span id="score" class="score">0</span></p>
<button class="btn" id="resetGame">é‡ç½®éŠæˆ²</button>
</div>

<div class="quiz">
<h2>å°æ¸¬é©—ï¼ˆé¸å‡ºæ­£ç¢ºä¸­æ–‡ï¼‰</h2>
<p id="question" style="font-size:20px;">Which one?</p>
<div id="choices" class="choices"></div>
<p id="quizResult"></p>
<button class="btn" id="nextQ">ä¸‹ä¸€é¡Œ</button>
</div>

</div>

<script>
// å–®å­—è¡¨ (10 å€‹å›æ”¶ç›¸é—œå–®å­—)
const vocab = [
{en:"paper", ch:"ç´™", emoji:"ğŸ“„", bin:"recycle"},
{en:"plastic", ch:"å¡‘è† ", emoji:"ğŸ§´", bin:"recycle"},
{en:"glass", ch:"ç»ç’ƒ", emoji:"ğŸ¾", bin:"recycle"},
{en:"metal", ch:"é‡‘å±¬", emoji:"ğŸ”©", bin:"recycle"},
{en:"can", ch:"ç½å­", emoji:"ğŸ¥«", bin:"recycle"},
{en:"bottle", ch:"ç“¶å­", emoji:"ğŸ¶", bin:"recycle"},
{en:"cardboard", ch:"ç´™ç›’", emoji:"ğŸ“¦", bin:"recycle"},
{en:"compost", ch:"å¯å †è‚¥", emoji:"ğŸŒ", bin:"compost"},
{en:"trash", ch:"ä¸€èˆ¬åƒåœ¾", emoji:"ğŸ—‘ï¸", bin:"trash"},
{en:"reuse", ch:"é‡è¤‡ä½¿ç”¨", emoji:"ğŸ”", bin:"recycle"},
];

let idx = 0;
const cardBig = document.getElementById('cardBig');
const wordEn = document.getElementById('wordEn');
const wordCh = document.getElementById('wordCh');
function showCard(i){
  const w = vocab[i];
  cardBig.textContent = w.emoji;
  wordEn.textContent = w.en;
  wordCh.textContent = w.ch;
}
document.getElementById('next').addEventListener('click', ()=>{
 idx = (idx+1) % vocab.length;
 showCard(idx);
});
document.getElementById('prev').addEventListener('click', ()=>{
 idx = (idx-1 + vocab.length) % vocab.length;
 showCard(idx);
});
document.getElementById('speak').addEventListener('click', ()=> speak(vocab[idx].en));

function speak(text){
  if('speechSynthesis' in window){
    const u = new SpeechSynthesisUtterance(text);
    u.lang = 'en-US';
    speechSynthesis.cancel();
    speechSynthesis.speak(u);
  } else {
    alert('ä½ çš„ç€è¦½å™¨ä¸æ”¯æ´ç™¼éŸ³åŠŸèƒ½');
  }
}
showCard(0);

// åˆ†é¡éŠæˆ²
const itemsArea = document.getElementById('itemsArea');
const bins = document.querySelectorAll('.bin');
const scoreEl = document.getElementById('score');
let score = 0;

function shuffle(a){ return a.sort(()=>Math.random()-0.5); }
function createItems(){
  itemsArea.innerHTML = '';
  const list = shuffle([...vocab]);
  list.forEach((w, i)=>{
    const div = document.createElement('div');
    div.className = 'item';
    div.draggable = true;
    div.id = 'item-'+i;
    div.textContent = w.emoji + ' ' + w.en;
    div.dataset.bin = w.bin;
    div.addEventListener('dragstart', (e)=> {
      e.dataTransfer.setData('text/plain', div.id);
    });
    itemsArea.appendChild(div);
  });
}
bins.forEach(bin=>{
  bin.addEventListener('dragover', e=> e.preventDefault());
  bin.addEventListener('drop', function(e){
    e.preventDefault();
    const id = e.dataTransfer.getData('text/plain');
    const item = document.getElementById(id);
    if(!item) return;
    const targetBin = this.dataset.bin;
    if(item.dataset.bin === targetBin){
      this.appendChild(item);
      item.draggable = false;
      item.style.opacity = '0.7';
      score += 10;
      scoreEl.textContent = score;
      this.classList.add('correct');
      setTimeout(()=> this.classList.remove('correct'), 600);
    } else {
      // wrong
      this.classList.add('wrong');
      score -= 2;
      if(score < 0) score = 0;
      scoreEl.textContent = score;
      setTimeout(()=> this.classList.remove('wrong'), 600);
    }
  });
});
document.getElementById('resetGame').addEventListener('click', ()=>{
  score = 0;
  scoreEl.textContent = score;
  createItems();
});

createItems();

// å°æ¸¬é©—
const questionEl = document.getElementById('question');
const choicesEl = document.getElementById('choices');
const quizResult = document.getElementById('quizResult');

function newQuestion(){
  quizResult.textContent = '';
  const q = vocab[Math.floor(Math.random()*vocab.length)];
  questionEl.textContent = 'What is the Chinese for "' + q.en + '"?';
  // create three choices
  const choices = [q.ch];
  while(choices.length < 3){
    const pick = vocab[Math.floor(Math.random()*vocab.length)].ch;
    if(!choices.includes(pick)) choices.push(pick);
  }
  shuffle(choices);
  choicesEl.innerHTML = '';
  choices.forEach(c=>{
    const b = document.createElement('button');
    b.className = 'choice';
    b.textContent = c;
    b.addEventListener('click', ()=>{
      if(c === q.ch){
        quizResult.textContent = 'ç­”å°äº†ï¼å¤ªæ£’äº†ï¼âœ…';
      } else {
        quizResult.textContent = 'ç­”éŒ¯äº†ï¼Œå†è©¦ä¸€æ¬¡ã€‚';
      }
    });
    choicesEl.appendChild(b);
  });
}
document.getElementById('nextQ').addEventListener('click', newQuestion);
newQuestion();

</script>
</body>
</html>
